{"version":3,"sources":["utils/timeFormat.js","components/TimeControllers.jsx","App.js","index.js"],"names":["setTimeFormat","totalSecs","seconds","minutes","Math","floor","hours","hoursFormat","minutesFormat","secondsFormant","TimeControllers","time","start","stop","reset","wait","className","type","onClick","App","useState","setTime","state","setState","stop$","useMemo","Subject","click$","useCallback","next","useEffect","doubleClick$","pipe","buffer","debounceTime","map","list","length","filter","value","subscribtion$","Observable","observer","count","intervalId","setInterval","clearInterval","takeUntil","subscribe","prev","unsubscribe","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oQASeA,EATO,SAACC,GACrB,IAAMC,EAAWD,EAAY,GACvBE,EAAUC,KAAKC,MAAMJ,EAAY,IACjCK,EAAQF,KAAKC,MAAMJ,EAAY,MAC/BM,EAAeD,EAAQ,GAAKA,EAAQ,GAAM,KAAQA,GAAS,GAAKA,GAAS,EAAxB,WAAiCA,GAAjC,UAA8CA,GAC/FE,EAAiBL,EAAU,GAAoB,IAAZA,EAAiB,KAAlB,WAA6BA,GAA/C,UAA+DA,GAC/EM,EAAkBP,EAAU,GAAX,WAAqBA,GAArB,UAAoCA,GAC3D,MAAM,GAAN,OAAUK,EAAV,YAAyBC,EAAzB,YAA0CC,I,OCH/BC,EAAkB,SAAC,GAAD,IAC7BC,EAD6B,EAC7BA,KACAC,EAF6B,EAE7BA,MACAC,EAH6B,EAG7BA,KACAC,EAJ6B,EAI7BA,MACAC,EAL6B,EAK7BA,KAL6B,OAO7B,gCACE,yBAAQC,UAAU,SAAlB,UACE,oBAAIA,UAAU,2BAAd,6BAGA,oBAAIA,UAAU,4BAAd,SACGhB,EAAcW,QAGnB,yBAASK,UAAU,OAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,wBAAQC,KAAK,SAASD,UAAU,eAAeE,QAASN,EAAxD,mBAGA,wBAAQK,KAAK,SAASD,UAAU,eAAeE,QAASL,EAAxD,kBAGA,wBAAQI,KAAK,SAASD,UAAU,eAAeE,QAASJ,EAAxD,mBAGA,wBAAQG,KAAK,SAASD,UAAU,eAAeE,QAASH,EAAxD,2BC0DOI,EAvEH,WACV,MAAwBC,mBAAS,GAAjC,mBAAOT,EAAP,KAAaU,EAAb,KACA,EAA0BD,mBAAS,QAAnC,mBAAOE,EAAP,KAAcC,EAAd,KACMC,EAAQC,mBAAQ,kBAAM,IAAIC,MAAW,IACrCC,EAASF,mBAAQ,kBAAM,IAAIC,MAAW,IAMtCb,EAAOe,uBAAY,WACvBP,EAAQ,GACRE,EAAS,UACR,IAEGT,EAAQc,uBAAY,WACxBP,EAAQ,KACP,IAEGN,EAAOa,uBAAY,WACvBD,EAAOE,OACPN,EAAS,QACTI,EAAOE,SACN,CAACF,IAmCJ,OAjCAG,qBAAU,WACR,IAAMC,EAAeJ,EAAOK,KAC1BC,YAAON,EAAOK,KAAKE,YAAa,OAChCC,aAAI,SAACC,GAAD,OAAUA,EAAKC,UACnBC,aAAO,SAACC,GAAD,OAAWA,GAAS,MAavBC,EAXS,IAAIC,KAAW,SAACC,GAC7B,IAAIC,EAAQ,EACNC,EAAaC,aAAY,WAC7BH,EAASb,KAAKc,GAAS,KACtB,KAEH,OAAO,WACLG,cAAcF,OAKfZ,KAAKe,YAAUhB,IACfC,KAAKe,YAAUvB,IACfwB,UAAU,CACTnB,KAAM,WACU,UAAVP,GACFD,GAAQ,SAAC4B,GAAD,OAAUA,EAAO,QAKjC,OAAQ,WACNT,EAAcU,iBAEf,CAAC5B,EAAOK,EAAQH,IAGjB,yBAASR,UAAU,kBAAnB,SACE,cAAC,EAAD,CACEL,KAAMA,EACNC,MAxDQ,WACZW,EAAS,UAwDLV,KAAMA,EACNC,MAAOA,EACPC,KAAMA,OC9EdoC,IAASC,OAAO,cAAC,IAAMC,WAAP,UAAkB,cAAC,EAAD,MAA4BC,SAASC,eAAe,W","file":"static/js/main.16ce851e.chunk.js","sourcesContent":["const setTimeFormat = (totalSecs) => {\n  const seconds = (totalSecs % 60);\n  const minutes = Math.floor(totalSecs / 60);\n  const hours = Math.floor(totalSecs / 3600);\n  const hoursFormat = (hours < 1 || hours > 23) ? '00' : (hours >= 1 && hours <= 9) ? `0${hours}` : `${hours}`;\n  const minutesFormat = (minutes < 10) ? ((minutes === 0) ? '00' : `0${minutes}`) : `${minutes}`;\n  const secondsFormant = (seconds < 10) ? `0${seconds}` : `${seconds}`;\n  return `${hoursFormat}:${minutesFormat}:${secondsFormant}`;\n};\nexport default setTimeFormat;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport setTimeFormat from '../utils/timeFormat';\n\nexport const TimeControllers = ({\n  time,\n  start,\n  stop,\n  reset,\n  wait,\n}) => (\n  <div>\n    <header className=\"header\">\n      <h1 className=\"time-controller headline\">\n        Time Controller\n      </h1>\n      <h1 className=\"time-controller indicator\">\n        {setTimeFormat(time)}\n      </h1>\n    </header>\n    <section className=\"main\">\n      <div className=\"container\">\n        <button type=\"button\" className=\"button color\" onClick={start}>\n          Start\n        </button>\n        <button type=\"button\" className=\"button color\" onClick={stop}>\n          Stop\n        </button>\n        <button type=\"button\" className=\"button color\" onClick={reset}>\n          Reset\n        </button>\n        <button type=\"button\" className=\"button color\" onClick={wait}>\n          Wait\n        </button>\n      </div>\n    </section>\n  </div>\n);\n\nTimeControllers.propTypes = {\n  time: PropTypes.number.isRequired,\n  start: PropTypes.func.isRequired,\n  stop: PropTypes.func.isRequired,\n  reset: PropTypes.func.isRequired,\n  wait: PropTypes.func.isRequired,\n};\n","import React, {\n  useCallback,\n  useEffect,\n  useState,\n  useMemo,\n} from 'react';\nimport { Observable, Subject } from 'rxjs';\n\nimport {\n  buffer,\n  debounceTime,\n  filter,\n  map,\n  takeUntil,\n} from 'rxjs/operators';\n\nimport { TimeControllers } from './components/TimeControllers';\n\nconst App = () => {\n  const [time, setTime] = useState(0);\n  const [state, setState] = useState('stop');\n  const stop$ = useMemo(() => new Subject(), []);\n  const click$ = useMemo(() => new Subject(), []);\n\n  const start = () => {\n    setState('start');\n  };\n\n  const stop = useCallback(() => {\n    setTime(0);\n    setState('stop');\n  }, []);\n\n  const reset = useCallback(() => {\n    setTime(0);\n  }, []);\n\n  const wait = useCallback(() => {\n    click$.next();\n    setState('wait');\n    click$.next();\n  }, [click$]);\n\n  useEffect(() => {\n    const doubleClick$ = click$.pipe(\n      buffer(click$.pipe(debounceTime(300))),\n      map((list) => list.length),\n      filter((value) => value >= 2),\n    );\n    const timer$ = new Observable((observer) => {\n      let count = 0;\n      const intervalId = setInterval(() => {\n        observer.next(count += 1);\n      }, 1000);\n\n      return () => {\n        clearInterval(intervalId);\n      };\n    });\n\n    const subscribtion$ = timer$\n      .pipe(takeUntil(doubleClick$))\n      .pipe(takeUntil(stop$))\n      .subscribe({\n        next: () => {\n          if (state === 'start') {\n            setTime((prev) => prev + 1);\n          }\n        },\n      });\n\n    return (() => {\n      subscribtion$.unsubscribe();\n    });\n  }, [state, click$, stop$]);\n\n  return (\n    <section className=\"time-controller\">\n      <TimeControllers\n        time={time}\n        start={start}\n        stop={stop}\n        reset={reset}\n        wait={wait}\n      />\n    </section>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n\nReactDOM.render(<React.StrictMode><App /></React.StrictMode>, document.getElementById('root'));\n"],"sourceRoot":""}